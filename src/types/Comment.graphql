# Comment type
type Comment {
  id: String
  comment: JSON
  user: User
  event: Event
  talk: Talk
  createdAt: String
  updatedAt: String
}

# Comment filters
input CommentFilter {
  id: StringFilter
  documentId: StringFilter
  createdAt: DateFilter
  updatedAt: DateFilter
  user: UserFilter
  event: EventFilter
  talk: TalkFilter
  and: [CommentFilter]
  or: [CommentFilter]
}

# Comment sort
input CommentSort {
  id: SortOrder
  createdAt: SortOrder
  updatedAt: SortOrder
}

# Paginated Comment response
type PaginatedComments {
  data: [Comment]
  meta: PaginationInfo
}

# Comment queries
extend type Query {
  comments(
    filters: CommentFilter
    sort: [CommentSort]
    pagination: PaginationInput
    search: String
    populate: [String]
  ): PaginatedComments
}

input CommentInput {
  comment: JSON
  talk_id: String
}

extend type Mutation {
  createComment(input: CommentInput!): Comment
  deleteComment(id: String!): Boolean
}
